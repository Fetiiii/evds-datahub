# EVDS DataHub

[![GÃ¼nlÃ¼k EVDS Veri GÃ¼ncelleme](https://github.com/<Fetiiii>/evds-datahub/actions/workflows/data_update.yml/badge.svg)](../../actions/workflows/data_update.yml)

TCMB **EVDS** veritabanÄ±ndaki binlerce ekonomik seriyi **otomatik Ã§eken, dÃ¼zenleyen ve gÃ¼ncel tutan** aÃ§Ä±k kaynaklÄ± bir veri pipeline projesi.

- âš™ï¸ **Tam otomatik:** GitHub Actions ile periyodik gÃ¼ncelleme (`--update`)
- ğŸ’¾ **KlasÃ¶r yapÄ±sÄ±:** Ana kategori â†’ Alt kategori â†’ Seri (CSV)
- ğŸ” **Skip & Resume:** Var olan CSVâ€™leri **atlayarak kaldÄ±ÄŸÄ± yerden devam**
- ğŸ§± **SaÄŸlamlÄ±k:** BaÄŸlantÄ± hatalarÄ±nda **retry**, **loglama**, hata kaydÄ±
- ğŸš€ **Kolay entegrasyon:** Ham verilerden ML/analiz projeleri iÃ§in kaynak oluÅŸturur

> ğŸ’¡ Bu repo yalnÄ±zca **veri Ã§ekimi ve otomasyon** iÃ§in tasarlandÄ±.

---

## ğŸ“¦ Ä°Ã§indekiler
- [Kurulum](#kurulum)
- [KullanÄ±m](#kullanÄ±m)
- [Workflow (otomasyon)](#workflow-otomasyon)
- [KlasÃ¶r YapÄ±sÄ±](#klasÃ¶r-yapÄ±sÄ±)
- [Loglama](#loglama)
- [Sorun Giderme](#sorun-giderme)
- [Lisans](#lisans)

---

## âš™ï¸ Kurulum

### 1ï¸âƒ£ BaÄŸÄ±mlÄ±lÄ±klar
```bash
pip install -r requirements.txt

2ï¸âƒ£ Ortam DeÄŸiÅŸkeni AyarÄ±
Lokal ortam:
.env dosyasÄ± oluÅŸtur:
EVDS_API_KEY=senin_api_anahtarÄ±n
ve main.pyâ€™nin baÅŸÄ±na (varsa) load_dotenv() ekle.

GitHub Actions ortamÄ±:
Repo â†’ Settings â†’ Secrets and variables â†’ Actions â†’ New repository secret
Name: EVDS_API_KEY
Value: ( senin TCMB EVDS API anahtarÄ±n)

ğŸš€ KullanÄ±m
ğŸ”¹ Tam Ã§ekim ( ilk kurulum veya tam veri yenileme)
python main.py
2000 yÄ±lÄ±ndan itibaren tÃ¼m verileri Ã§eker.
CSV dosyasÄ± zaten varsa atlar (skip), yoksa oluÅŸturur.

ğŸ”¹ GÃ¼ncelleme modu (workflow veya manuel)
python main.py --update
VarsayÄ±lan olarak son 3 gÃ¼nÃ¼ kontrol eder.(UPDATE_DAYS keyfi olarak deÄŸiÅŸtirilebilir.)
Sadece yeni veri varsa ekler, tekrar eden tarihleri eler.
GÃ¼nlÃ¼k workflowâ€™larda Ã¶nerilen moddur.


ğŸ¤– Workflow (otomasyon)
.github/workflows/data_update.yml dosyasÄ±:
Manuel Ã§alÄ±ÅŸtÄ±rma: GitHub Actions sekmesinden Run workflow
Zamanlama (isteÄŸe baÄŸlÄ±): Her gece 03:00â€™te otomatik Ã§alÄ±ÅŸacak ÅŸekilde ayarlandÄ±.
Push sÄ±rasÄ±nda GITHUB_TOKEN kimliÄŸiyle otomatik commit yapÄ±lÄ±r.

âš ï¸ Not: Repo boyutu 2GBâ€™Ä± aÅŸarsa GitHub push zorlaÅŸabilir.
Gerekirse yalnÄ±zca data/example/ klasÃ¶rÃ¼nÃ¼ repoda tut veya Hugging Face Datasets entegrasyonunu kullan.



ğŸ—‚ï¸ KlasÃ¶r YapÄ±sÄ±
data/
  Ana Kategori/
    Alt Kategori/
      Seri AdÄ±.csv
logs/
  failed_series.txt      # Hata alan serilerin kayÄ±tlarÄ±
main.py                  # Ã‡ekim & gÃ¼ncelleme scripti
.github/workflows/
  data_update.yml        # GÃ¼nlÃ¼k/manuel update otomasyonu
requirements.txt         # Gerekli kÃ¼tÃ¼phaneler


CSV dosya Ã¶rneÄŸi:
Tarih, TP_DK_USD_A_YTL
2025-10-19, 32.45
2025-10-20, 32.52
...
Kolon adlarÄ± otomatik olarak EVDS koduna gÃ¶re oluÅŸturulur (. yerine _).



ğŸ§¾ Loglama
TÃ¼m baÅŸarÄ±sÄ±z istekler logs/failed_series.txt dosyasÄ±na kaydedilir:
[2025-10-21 03:12:45] MENKUL KIYMET Ä°STATÄ°STÄ°KLERÄ° | 1.1.6. Genel YÃ¶netim DÄ±ÅŸÄ±ndaki SektÃ¶rlerce Ä°hraÃ§ Edilen BorÃ§lanma Senetleri | TP.MENKUL.BORC.STOK | ConnectionError veya boÅŸ veri
BaÄŸlantÄ± hatalarÄ±: script otomatik olarak birkaÃ§ kez dener (retry)
API limiti (Too Many Requests): 60 saniye bekler ve yeniden dener
BaÅŸarÄ±sÄ±z denemeler: log dosyasÄ±na iÅŸlenir


ğŸ§© Sorun Giderme
Hata    AÃ§Ä±klama / Ã‡Ã¶zÃ¼m
No such file or directory	Windowsâ€™ta uzun path hatasÄ± olabilir. LongPathsEnabled=1 aÃ§.
Too Many Requests	API rate-limit. SLEEP_BETWEEN_SERIES deÄŸerini artÄ±r (Ã¶r. 1.0 â†’ 2.0).
Push hatasÄ± (kimlik)	Branch korumasÄ±nÄ± veya GITHUB_TOKEN eriÅŸimini kontrol et.

ğŸ“¡ GÃœNCELLEME MODU baÅŸlatÄ±lÄ±yor...
ğŸ” Ana Kategori: PÄ°YASA VERÄ°LERÄ° (TCMB) (ID: 1)
  â–ª Alt Kategori: AÃ§Ä±k Piyasa Repo ve Ters Repo Ä°ÅŸlemleri
    â€¢ Seri: (1 GÃœN) AÄŸÄ±rlÄ±klÄ± Ortalama Faiz (TP.API.REP.ORT.G1)
      â†ª GÃ¼ncelleme aralÄ±ÄŸÄ±: 18-10-2025 â†’ 21-10-2025
      ğŸ”„ GÃ¼ncellendi: data/Piyasa Verileri (TCMB)/AÃ§Ä±k Piyasa Repo ve Ters Repo Ä°ÅŸlemleri/(1 GÃœN) AÄŸÄ±rlÄ±klÄ± Ortalama Faiz.csv (toplam 309 satÄ±r)


ğŸ“˜ Lisans
MIT LisansÄ± altÄ±nda daÄŸÄ±tÄ±lmaktadÄ±r.
Bu projeyi kullanÄ±rken TCMB EVDS veri servisinin lisans ve kullanÄ±m ÅŸartlarÄ±nÄ± dikkate alÄ±nÄ±z.


ğŸ§  Yazar Notu
EVDS DataHub, TCMB EVDS APIâ€™sinden alÄ±nan ekonomik serileri otomatik Ã§ekmek, organize etmek ve aÃ§Ä±k biÃ§imde paylaÅŸmak iÃ§in oluÅŸturulmuÅŸtur.
Veri mÃ¼hendisliÄŸi, otomasyon ve aÃ§Ä±k veri altyapÄ±sÄ± Ã¶rneÄŸi olarak tasarlanmÄ±ÅŸtÄ±r.



